extends layout

append head
    link(rel='stylesheet', href=`${cssDir}/manual.css`)

block content
    h1 Instruction Manual

    ul
        li
            a(href="#what") What is #{siteName}?
        li
            a(href="#posts") Posts
        li
            a(href="#comments") Comments
        li
            a(href="#inbox") Inbox
        li
            a(href="#formatting") Formatting
        li
            a(href="#groups") Groups
        li
            a(href="#private-groups") Private Groups
        li
            a(href="#following") Following
        li
            a(href="#settings") Settings
        li
            a(href="#editing") Editing
        li
            a(href="#deleting") Deleting
        li
            a(href="#open-source") Open Source
        li
            a(href="#privacy-policy") Privacy Policy
        li
            a(href="#contact-us") How to Contact Us
        li
            a(href="#api") API

    h2#what What is #{siteName}?
    p
        |#{siteName} is a link aggregation internet forum.
        |Users can write posts and nested comments.

    h2#posts Posts
    p
        |Posts are the main way to submit content. 
        |All topics are allowed (unless illegal). 
        |You must be logged in to create a post. 
        |Use  
        a(href="/new") new post
        | 
        |in the site navigation to go to the create post form. 
        |Posts have a title, link, content and a group. 
        |Only title is required. 
        |The 
        a(href="/") home page
        | 
        |displays all posts from all users.

    p
        |There are four ways to sort posts. 
        |These sorting options are available at the top of the 
        a(href="/") home page
        |, 
        |at the top of group pages (e.g. 
        a(href="/r/meta") r/meta
        |), and when using the /posts API call. 
        |Here is a description of each sorting option:
        ul.list1
            li
                b Newest
                |: This is a reverse chronological ordering based on the post time, 
                |and this is also the default.
            li
                b Oldest
                |: This is a chronological ordering based on the post time.
            li
                b Comments
                |: This ordering is based on the number of comments a post has. 
                |The posts with the most comments will appear first.
            li
                b Last Comment
                |: This ordering is based on the last comment time for the post. 
                |The post with the most recent comment will appear first.

    h2#comments Comments
    p
        |You can write comments on posts and other comments. 
        |You must be logged in to create a comment. 
        |If you're logged in, then there's a comment form at the top of each post and comment page, and 
        |there are "reply" links below each comment.

    h2#inbox Inbox
    p
        |The 
        a(href="/inbox") inbox
        | 
        | shows all comments that have been made directly on your posts and comments.

    h2#formatting Formatting
    p
        |These are the available formatting rules for posts and comments:
        ul.list1
            li
                |All newlines are automatically preserved.
            li
                |You can use 
                i ```pre
                | 
                |and 
                i ```
                | 
                |to preserve spaces/whitespace for a group of lines. 
                i ```pre
                | 
                |must come first on its own line and 
                i ```
                | 
                |must come last on its own line. 
                |All whitespace in between will be preserved. 
                |This is intended for writing computer programming source code.
            li
                |You can create hyperlinks by putting brackets before the URL. 
                |For example like this: 
                i []https://www.mysite.com
                |. If you want to use custom text put it in the brackets, e.g.: 
                i [green]http://colors.com/green
                |.

    h2#groups Groups
    p
        |When you create a post you can add it to a group (this is optional). 
        |Each group has its own page with all of its posts. 
        |For example, the 
        a(href="/r/meta") meta group
        |. Groups display to the right of the post time for each post; 
        |click these links to go to the group's page!

    h2#private-groups Private Groups
    p
        |By default, all posts and comments are public. 
        |But with private groups, you can use #{siteName} privately 
        |with your friends, family and peers. Private groups use the same 
        |mechanism as "normal" groups and can be mixed with them.

    p
        |In order to create a private group you must log in and go to 
        a(href="/settings/groups") groups settings
        |. On this page you can create new private groups, see all your created private groups, 
        |and see all the other private groups you're a part of. 
        |For each of your created private groups, there is a settings link 
        |where you can add and remove users.

    p
        |All private groups must start with "p-", for example, "p-cheese". When you 
        |first create a private group it must be empty of posts. 
        |Private groups attached to posts cannot be edited like normal groups. 
        |It is possible to use multiple private groups on the same post. 
        |Posts and comments from private groups will properly show and hide throughout 
        |the entire site. For example, posts from your private groups will appear on the home page. 
        |Posts and comments for private groups are currently stored in the database the same way 
        |as normal groups - in other words, private groups content is not currently encrypted or 
        |anything like that.

    h2#following Following
    p
        |On the right side of usernames there is a plus or minus button. 
        |You can follow the respective user with the plus button. 
        |The minus button unfollows. 
        |You can only see posts and comments that have been posted by users that you're following. 
        |You can manage who you're following by using 
        a(href="/following") following
        | 
        |in the site navigation (if you're logged in).

    h2#settings Settings
    p
        |You can access the 
        a(href="/settings") settings
        | 
        |in the site navigation. 
        |You can use the settings even if you're logged out. 
        |If you are logged in, then there are three additional settings pages for 
        a(href="/settings/username") username
        |, 
        a(href="/settings/groups") groups
        | 
        | and 
        a(href="/settings/app-ids") app IDs
        |. Instructions for groups settings can be found in the 
        a(href="/manual#private-groups") private groups
        | 
        |section of this instruction manual. 
        |Instructions for the app ID settings can be found in step 1 of the user authentication section of the 
        a(href="/api") API documentation
        |. 
        |The available settings are:
        ul.list1
            li
                b Time Zone
                |: this will adjust the time that is displayed for each post and comment.
            li
                b Following List
                |: this determines which list of users you will use. 
                |You can use your own list (the users you follow) or another user's list. 
                |You can only see posts and comments made by users on the selected list.
            li
                b Site Width
                |: you can use this setting to set the site width. 
                |Valid values are #{min_site_width}-#{max_site_width} or blank. 
                |If you use a number between #{min_site_width}-#{max_site_width} then that will be the site width in pixels 
                |and the site will be horizontally centered. 
                |If this setting is left blank then the site will take up the entire browser width. 
                |The default value is #{default_site_width}.
            li
                b Posts Per Page
                |: this is how many posts to list on the home page and group pages. 
                |It must be between #{min_ppp} and #{max_ppp}. The default is #{default_ppp}.
            li
                b View Mode
                |: this affects how posts and comments display that are from unfollowed users; 
                |"locked" completely hides these posts and comments, while "discover" will show these posts and 
                |comments but only with the username and time. There is a shortcut to toggle this option at the top of
                |every list of posts and comments.
            li
                b Post Layout
                |: this setting determines the layout for posts on the home page and group pages. 
                |You can choose the standard two line layout, 
                |or there is a single line layout option that is good for dense posts.
            li
                b Replying to Comments
                |: this affects how the comment reply links work. If you select "basic" then 
                |comment reply links will take you to a comment form on a different page. If you select 
                |"quick" then comment reply links will immediately open a comment form under the reply link. 
                |The default is "quick". This is only for logged in users.
            li
                b Main Background Color
                |: this is the background color for the main area that contains all the content.
            li
                b Secondary Background Color
                |: this is the background color for the secondary background that doesn't contain any content.
            li
                b Username
                |: You can use this setting to change your username. 
                |This is only for logged in users. 
                |This setting has 
                a(href="/settings/username") its own page
                |.

    h2#editing Editing
    p
        |You can edit your posts and comments anytime you want. 
        |For posts, the edit link is to the right of the comment count. 
        |And for comments the edit link is to the right of the permalink and reply links.

    h2#deleting Deleting
    p
        |You can delete your posts and comments at anytime. 
        |The delete link for posts and comments is to the right of the edit link. 
        |Post and comment deletion is permanent and the data is actually deleted from the database. 
        |When you delete a post or comment, then all of its comments will also be permanently deleted.

    h2#open-source Open Source
    p.
        The source code for Comment Castles is
        #[a(href="https://github.com/ferg1e/comment-castles") available on GitHub] under the MIT license.

    h2#privacy-policy Privacy Policy
    p
        |Please see our 
        a(href="/privacy-policy") privacy policy here
        |.

    h2#contact-us How to Contact Us
    p
        |There are a couple contact methods listed on the 
        a(href="/contact-us") contact us page
        |.

    h2#api API
    p
        |We have an API, please see the 
        a(href="/api") API documentation here
        |.
